Ö®DateTime◊ˇ∂<N†f}'ã™ThreadName¿∞CopilotSessionIdÇ§GuidŸ$07c96eee-1d44-48d7-b019-4e1e3967de3e®ClientIdÅ¢IdŸ4Microsoft.VisualStudio.Conversations.Chat.HelpWindowßRequestÅßRequestïŸ$74e332c1-c3e2-4dfd-bf05-f6d169864ae4Ÿ$cdb4d45d-65dd-416c-bb0a-0d53de0116b5ëÜØProviderMonikerÇ§NameŸ6Microsoft.VisualStudio.Copilot.DocumentContextProviderßVersion£0.1¶Member§file©CanReduce√©RequestIdŸ$74e332c1-c3e2-4dfd-bf05-f6d169864ae4©Reference¿•Value»CÀdŸëMicrosoft.VisualStudio.Copilot.DocumentContext, Microsoft.VisualStudio.Copilot, Version=0.2.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3aÖßContent⁄BB@page
@model ConnectEduV2.Pages.Class.ClassDetailModel
@{
}
<!--================Home Banner Area =================-->
<section class="banner_area">
    <div class="banner_inner d-flex align-items-center">
        <div class="overlay"></div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="banner_content text-center">
                        <h2>Class Details</h2>
                      
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Home Banner Area =================-->
<!--================ Start Course Details Area =================-->
<section class="course_details_area section_gap">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 course_details_left"> 
                <div class="content_wrapper">
                    <h4 class="title">Describe</h4>
                    <div class="content">
                        <p>@Model.ClassDetail.Describe</p>
                    </div>
                </div>
                <div class="content_wrapper">
                    <h4 class="title">Registered students</h4>
                    <div class="content">
                        <ul class="course_list">
                            @foreach (var list in Model.classRegistrations)
                            {
                                <li class="justify-content-between d-flex">
                                    <p>@list.User.Name </p>
                                    <a class="primary-btn text-uppercase" href="#">@list.RegistrationStatus.Name</a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
                <div class="comments-area" id="chatarea" style="height: 500px; overflow-y: auto;">
                    <h4>Class Chat</h4>
                    @foreach (ConnectEduV2.ViewModel.Chats chats in Model.Chats)
                    {
                        <div class="comment-list" style="padding-bottom:10px">
                            <div class="single-comment justify-content-between d-flex">
                                <div class="user justify-content-between d-flex">
                                    <div class="thumb">
                                        <img style="width:30px; border-radius:10px" src="@chats.Img" alt="">
                                    </div>
                                    <div class="desc">
                                        <div class="d-flex">
                                        <h5>
                                            <a href="#">@chats.Name</a>
                                            </h5>
                                        
                                            <p style="margin-left: 10px" class="date">@chats.Date </p>
                                        </div>
                                        <p class="comment">
                                            @chats.Content
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="comment-form">
                    <h4>Leave a Chat</h4>
                    <h6 class="error" id="errorChat">@ViewData["ErrorChat"]</h6>
                    <div id="chatForm">                  
                        <input hidden name="classid" class="classid" value="@Model.ClassDetail.Id" />
                        <div class="form-group">
                            <input type="text" class="form-control chatContent" name="chatContent" required>
                        </div>
                        <button class="primary-btn submitChat">Post Chat</button>
                    </div>
                </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.9/signalr.min.js"></script>
                <script>
                    const connection = new signalR.HubConnectionBuilder()
                        .withUrl("/chatHub")
                        .build(); 
                    connection.on("ReceiveChat", function () {
                        refreshChatList();                        
                        console.log("refreshed");
                    });

                    document.addEventListener('DOMContentLoaded', function () {
                        document.querySelector('.submitChat').addEventListener('click', function () {
                            const messageInput = document.querySelector('.chatContent');
                            const idInput = document.querySelector('.classid');
                            const chatContent = messageInput.value;
                            const classId = idInput.value;
                            if (chatContent.trim() === '') {
                                $('#errorChat').text('Chat content cannot be empty');
                                return; // Exit the function
                            }
                            $.ajax({
                                url: '/Class/ClassDetail?handler=Send',
                                method: 'GET',
                                data: {
                                    chatContent: chatContent,
                                    classid: classId
                                },
                                success: function (data, textStatus, xhr) {
                                    if (xhr.status === 200) {
                                        console.log(data);
                                        messageInput.value = '';
                                    } else if (xhr.status === 204) { // No content
                                        // Handle redirect
                                        window.location.href = "/Login/Login";
                                    }
                                    // Handle backend messages
                                    if (data.errorChat) {
                                        $('#errorChat').text(data.errorChat);
                                    }
                                },
                                error: function (xhr, status, error) {
                                    console.error('Error:', error);
                                }
                            });
                        });
                    });

                    function scrollChatToBottom() {
                        var chatArea = document.getElementById('chatarea');
                        chatArea.scrollTop = chatArea.scrollHeight;
                    }

                    connection.start().then(function () {
                        console.log("connected");
                        scrollChatToBottom();
                    }).catch(function (err) {
                        return console.error(err.toString());
                    });

                    function rebuildArea(data) {
                        console.log(123, data);
                        var html = '';
                        for (var i = 0; i < data.length; i++) {
                            var chat = data[i];
                            html += '<div class="comment-list" style="padding-bottom:10px"><div class="single-comment justify-content-between d-flex"><div class="user justify-content-between d-flex"><div class="thumb"><img style="width:30px" src="'
                                + chat.Img + '" alt=""></div><div class="desc"><div class="d-flex"><h5><a href="#">'
                                + chat.Name + '</a></h5><p style="margin-left: 10px" class="date">'
                                + chat.Date + '</p></div><p class="comment">'
                                + chat.Content + '</p></div></div></div></div>';
                        }
                   
                        return html;
                    }

                    function refreshChatList() {
                        // Append the loading spinner to the DOM 
                        $.ajax({
                            type: 'GET',
                            url: "/Class/ClassDetail?handler=Chat&classid=@Model.ClassDetail.Id",
                            contentType: "application/json",
                            dataType: "json",
                        }).done(function (data) {
                            // Remove the loading spinner from the DOM                       
                            $("#chatarea").html(rebuildArea(data.newChat));
                            scrollChatToBottom();
                        }).fail(function (error) {
                            // Remove the loading spinner from the DOM
                            console.log(error);
                        });
                    }
                  
                    function submitForm() { // Save the current scroll position before form submission var scrollPosition = window.scrollY;
                        // Return true to allow the form to submit
                        return true;
                    }

                    // After form submission (when the page reloads), restore the scroll position
                    window.onload = function () {
                        var scrollPosition = sessionStorage.getItem('scrollPosition');
                        if (scrollPosition !== null) {
                            window.scrollTo(0, parseInt(scrollPosition));
                            sessionStorage.removeItem('scrollPosition'); // Remove saved scroll position
                        }
                    };

                    // Before leaving the page, save the current scroll position in session storage
                    window.onbeforeunload = function () {
                        sessionStorage.setItem('scrollPosition', window.scrollY);
                    };                 
                </script>      

            </div>


            <div class="col-lg-4 right-contents">
                <ul>
                    <li>
                        <a class="justify-content-between d-flex" href="#">
                            <p>Trainer‚Äôs Name</p>
                            <span class="or">@Model.ClassDetail?.User?.Name</span>
                        </a>
                    </li>
                    <li>
                        <a class="justify-content-between d-flex" href="#">
                            <p>Course Fee </p>
                            <span>@Model.ClassDetail?.Price?.ToString("N0") ƒë</span>

                        </a>
                    </li>
                    <li>
                        <a class="justify-content-between d-flex" href="#">
                            <p>Number of sessions </p>
                            <span>@Model.ClassDetail?.SeatNumber</span>
                        </a>
                    </li>
                    <li>
                        <a class="justify-content-between d-flex" href="#">
                            <p>Schedule </p>
                            <span>@Model.ClassDetail.StartTime?.ToString("dd/MM/yyyy") to @Model.ClassDetail.EndTime?.ToString("dd/MM/yyyy")</span>
                        </a>
                    </li>
                    <li>
                        <a class="justify-content-between d-flex" href="@Model.ClassDetail.User.FacebookPath">
                            <p>Facebook: </p>

                            <span>Click me</span>
                            
                        </a>
                    </li>
                    <li>
                        <a class="justify-content-between d-flex" href="#">
                            <p>Gmail </p>
                           
                            <span>@Model.ClassDetail.User.Email</span>
                        </a>
                    </li>
                    <li>
                        <a class="justify-content-between d-flex" href="#">
                            <p>Phone </p>

                            <span>@Model.ClassDetail.User.Phone</span>
                        </a>
                    </li>
                </ul>
               
                @using Newtonsoft.Json;
                @{
                    string? accJson = HttpContext.Session.GetString("User");
                    if(accJson != null)
                    {
                        ConnectEduV2.Models.User ? acc = JsonConvert.DeserializeObject<ConnectEduV2.Models.User>(accJson);
                        if (acc.RoleId == 2)
                        {
                            if(Model.ClassDetail.ClassStatusId != 2)
                            {
                                <a asp-page="/Class/ClassDetail"
                                   asp-page-handler="Enroll"
                                   asp-route-classID="@Model.ClassDetail.Id"
                                class="primary-btn2 text-uppercase enroll rounded-0 text-white">Enroll the course</a>
                            }
                            else
                            {
                                <a asp-page=""
                                   asp-page-handler=""
                                   asp-route-classID="@Model.ClassDetail.Id"
                                   class="primary-btn2 text-uppercase enroll rounded-0 text-white">Class started</a>
                            }

                        }else{
                            if(Model.ClassDetail.ClassStatusId == 2)
                            {
                                <a asp-page="/Class/ClassDetail"
                                   asp-page-handler="ChangeStatus"
                                   asp-route-classID="@Model.ClassDetail.Id"
                                   asp-route-action="End"
                                class="primary-btn2 text-uppercase enroll rounded-0 text-white">End Class</a>
                            }
                            else{
                                <a asp-page="/Class/ClassDetail"
                                   asp-page-handler="ChangeStatus"
                               asp-route-classID="@Model.ClassDetail.Id"
                                   asp-route-action="Start"
                            class="primary-btn2 text-uppercase enroll rounded-0 text-white">Start Class</a>
                                
                            }
                        
                        }
                    }
                    else
                    {
                        <a asp-page="/Class/ClassDetail"
                           asp-page-handler="Enroll"
                           asp-route-classID="@Model.ClassDetail.Id"
                           class="primary-btn2 text-uppercase enroll rounded-0 text-white">Enroll the course</a>
                    }
                }
               

                <h4 class="title">Reviews</h4>
                <div class="content">
                   
                    <div class="comments-area mb-30" style="margin-top:0px">
                        @foreach(Models.Feedback fb in Model.feedbacks)
                        {
                            <div class="comment-list" style="padding:10px">
                            <div class="single-comment single-reviews justify-content-between d-flex">
                                <div class="user justify-content-between d-flex">
                                    <div class="thumb">
                                        <img style="width:30px" src="@fb.User.Image" alt="">
                                    </div>
                                    <div class="desc">
                                        <h5>
                                                <a href="#">@fb.User?.Name</a>
                                            
                                        </h5>
                                        <p class="comment">
                                                @fb.Comment
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        }
                        
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================ End Course Details Area =================-->
ØOriginalContent¿™SelectionsëÉ•Caret¿•StartÕï£EndÕd®FilePathŸõC:\Users\dinhd\OneDrive - ƒê·∫°i h·ªçc FPT- FPT University\Documents\Ky_7_chuyen_nganh\PRN221\code\ConnectEduV2\ConnectEduV2\Pages\Class\ClassDetail.cshtml®Language•RazorëíìÅ•Value ⁄J<div class="content_wrapper">
                    <h4 class="title">Registered students</h4>
                    <div class="content">
                        <ul class="course_list">
                            @foreach (var list in Model.classRegistrations)
                            {
                                <li class="justify-content-between d-flex">
                                    <p>@list.User.Name </p>
                                    <a class="primary-btn text-uppercase" href="#">@list.RegistrationStatus.Name</a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
				t√¥i c·∫ßn th·∫ª n√†y c√≥ chi·ªÅu d√†i nh·∫•t ƒë·ªãnh n·∫øu d·ªë b·∫£n ghi qu√° nhi·ªÅu th√¨ s·∫Ω c√≥ thanh lƒÉn hi·ªán ra ƒë·ªÉ lƒÉn¿®ResponseÖßContent⁄§To achieve a fixed height for the list of registered students with a scrollbar appearing when the list exceeds that height, you can apply CSS styles directly to the `.content` class or create a new class specifically for this purpose. Here's how you can modify the existing code to include these styles:

```Razor
<style>
    .scrollable-list {
        max-height: 300px; /* Adjust the height as needed */
        overflow-y: auto; /* Enables vertical scrollbar if content overflows */
    }
</style>

<div class="content_wrapper">
    <h4 class="title">Registered students</h4>
    <div class="content scrollable-list"> <!-- Added the scrollable-list class here -->
        <ul class="course_list">
            @foreach (var list in Model.classRegistrations)
            {
                <li class="justify-content-between d-flex">
                    <p>@list.User.Name </p>
                    <a class="primary-btn text-uppercase" href="#">@list.RegistrationStatus.Name</a>
                </li>
            }
        </ul>
    </div>
</div>
```

In this example, I've added a `<style>` block at the beginning of your Razor file. This block defines a `.scrollable-list` class with a `max-height` of `300px` and an `overflow-y` property set to `auto`. This means that if the content inside the `.scrollable-list` div exceeds 300 pixels in height, a vertical scrollbar will appear, allowing the user to scroll through the list of registered students. You can adjust the `max-height` value according to your specific needs.

Remember, for a more global solution or if you find yourself reusing this pattern, consider adding the CSS to your site's stylesheet instead of inline within the Razor page.§Type ¶StatusØFollowUpPromptsëŸ>L√†m th·∫ø n√†o ƒë·ªÉ thay ƒë·ªïi m√†u s·∫Øc c·ªßa thanh lƒÉn?≥CodeVulnerabilitiesêÖ®DateTime◊ˇ‚Z`f}2P™ThreadName¿∞CopilotSessionIdÇ§GuidŸ$07c96eee-1d44-48d7-b019-4e1e3967de3e®ClientIdÅ¢IdŸ4Microsoft.VisualStudio.Conversations.Chat.HelpWindowßRequestÅßRequestïŸ$cf8cd73a-c50e-4d01-9c51-f3862208d1adŸ$c831e309-9cfe-4496-a9af-9a148bd4ac4bëÜØProviderMonikerÇ§NameŸ6Microsoft.VisualStudio.Copilot.DocumentContextProviderßVersion£0.1¶Member§file©CanReduce√©RequestIdŸ$cf8cd73a-c50e-4d01-9c51-f3862208d1ad©Reference¿•Value» bdŸëMicrosoft.VisualStudio.Copilot.DocumentContext, Microsoft.VisualStudio.Copilot, Version=0.2.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3aÖßContent⁄›@page
@using X.PagedList
@model ConnectEduV2.Pages.Class.ClassesModel
@{
}
<!--================Home Banner Area =================-->
<section class="banner_area">
    <div class="banner_inner d-flex align-items-center">
        <div class="overlay"></div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="banner_content text-center">
                        <h2>Classes</h2>
                        <div class="page_link">
                            <a href="index.html">Home</a>
                            <a href="courses.html">Classes</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Home Banner Area =================-->
<!--================ Start Popular Courses Area =================-->
<div class="popular_courses section_gap_top">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <div class="main_title">
                    <h2 class="mb-3">Our Popular Classes</h2>
                    
                </div>
            </div>
        </div>
        <!-- Start row for date pickers and search -->
        <form asp-page="Class" method="get">
            <input name="subjectID" hidden value="@Model.SubjectID" type="text" />
            <div class="row justify-content-center mt-4">
                <div class="col-lg-6">
                    <div class="row">
                        <div class="col-lg-6 form-date">
                            <label for="start_date">Start Date:</label>
                            <input type="datetime-local" id="start_date" name="start_date" class="form-control">
                        </div>
                        @* <div class="col-lg-6">
                            <label for="end_date">End Date:</label>
                            <input type="datetime-local" id="end_date" name="end_date" class="form-control">
                        </div> *@
                    </div>
                </div>
                <div class="col-lg-6">
                    <label for="start_date">Search</label>
                    <div class="input-group">

                        <input type="text" name="searchKeyword" class="form-control" value="@Model.Key" placeholder="Search for...">
                        <div class="input-group-append">
                            <button type="submit" class="btn btn-primary" type="button">Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <br />
        <br />
        <!-- End row for date pickers and search -->

        <div class="row">
            <!-- single course -->
            @foreach (ConnectEduV2.Models.Class list in Model.Classes)
            {
                <div class="single_course col-lg-4">
                    <div class="course_head">
                        <img class="img-fluid" src="~/img/courses/default.jpg" alt="" />
                    </div>
                    <div class="course_content">
                        <span style="top: 28px; width:120px; font-size : 15px; height:33px;line-height: 37px" class="price">@list.Price?.ToString("N0") ƒë</span>
                        <span class="tag mb-4 d-inline-block">@list.Subject?.Name</span>
                        <h4 class="mb-3">
                            <a asp-page="/Class/ClassDetail" asp-route-classID="@list.Id" >@list.Name</a>
                        </h4>
                        <p>
                            @list.Describe
                        </p>

                        <div class="course_meta d-flex justify-content-lg-between align-items-lg-center flex-lg-row flex-column mt-4">
                            <div class="authr_meta">
                                <img class="img-fluid smaller-img" src="@list.User?.Image" alt="" />
                                <span class="d-inline-block ml-2">@list.User?.Name</span>
                            </div>
                            <div class="mt-lg-0 mt-3">
                                <span class="meta_info mr-4">
                                    <a href="#"> <i class="ti-user mr-2"></i>@list.ClassRegistrations?.Count </a>
                                </span>
                                <span class="meta_info"><a href="#"> <i class="ti-heart mr-2"></i>@list.Feedbacks.Count </a></span>
                            </div>
                        </div>
                    </div>
                </div>
     
            }
            @if (Model.Classes.Count == 0)
            {
                <div style="margin:auto">
                    <h4 style="margin:auto">Hi·ªán kh√¥ng c√≥ mentor n√†o h·ªó tr·ª£ m√¥n n√†y</h4>
                </div>
            }
            <style>
                .smaller-img {
                    max-width: 30px; /* K√≠ch th∆∞·ªõc t·ªëi ƒëa chi·ªÅu r·ªông */
                    max-height: 30px; /* K√≠ch th∆∞·ªõc t·ªëi ƒëa chi·ªÅu cao */
                    border-radius: 10px;
                }
            </style>
            <!-- Add clearfix here -->


        </div>
        <nav class="blog-pagination justify-content-center d-flex">
            <ul class="pagination">
                @if (Model.Classes.PageNumber > 1)
                {
                    <li class="page-item">
                        <a class="page-link genric-btn default" aria-label="Previous" asp-controller="Class" asp-action="Classes"
                       asp-route-start_date="@Model.Start_date"
                       asp-route-end_date="@Model.End_date"
                       asp-route-searchKeyword="@Model.Key"
                       asp-route-subjectID="@Model.SubjectID"
                       asp-route-pageNumber="@(Model.Classes.PageNumber-1)">
                            <span aria-hidden="true">
                                <i class="ti-angle-left"></i>
                            </span>
                        </a>
                    </li>
                }
                @for (int i = 1; i <= Model.Classes.PageCount; i++)
                {
                    <li class="page-item @(i == Model.Classes.PageNumber ? "active" : "")">
                        <a class="page-link genric-btn default" asp-controller="Class" asp-action="Classes"
                       asp-route-start_date="@Model.Start_date"
                       asp-route-end_date="@Model.End_date"
                       asp-route-searchKeyword="@Model.Key"
                       asp-route-subjectID="@Model.SubjectID"
                       asp-route-pageNumber="@i">@i</a>
                    </li>
                }
                @if (Model.Classes.PageNumber < Model.Classes.Count - 1)
                {
                    <li class="page-item">
                        <a class="page-link genric-btn default" aria-label="Next" asp-controller="Class" asp-action="Classes"
                       asp-route-start_date="@Model.Start_date"
                       asp-route-end_date="@Model.End_date"
                       asp-route-searchKeyword="@Model.Key"
                       asp-route-subjectID="@Model.SubjectID"
                       asp-route-pageNumber="@(Model.Classes.PageNumber+1)">
                            <span aria-hidden="true">
                                <i class="ti-angle-right"></i>
                            </span>
                        </a>
                    </li>
                }


            </ul>
        </nav>
    </div>
</div>
<!--================ End Popular Courses Area =================-->ØOriginalContent¿™SelectionsëÉ•Caret¿•StartÕ3£EndÕÙ®FilePathŸóC:\Users\dinhd\OneDrive - ƒê·∫°i h·ªçc FPT- FPT University\Documents\Ky_7_chuyen_nganh\PRN221\code\ConnectEduV2\ConnectEduV2\Pages\Class\Classes.cshtml®Language•RazorëíìÅ•Value ⁄
L<div class="row">
            <!-- single course -->
            @foreach (ConnectEduV2.Models.Class list in Model.Classes)
            {
                <div class="single_course col-lg-4">
                    <div class="course_head">
                        <img class="img-fluid" src="~/img/courses/default.jpg" alt="" />
                    </div>
                    <div class="course_content">
                        <span style="top: 28px; width:120px; font-size : 15px; height:33px;line-height: 37px" class="price">@list.Price?.ToString("N0") ƒë</span>
                        <span class="tag mb-4 d-inline-block">@list.Subject?.Name</span>
                        <h4 class="mb-3">
                            <a asp-page="/Class/ClassDetail" asp-route-classID="@list.Id" >@list.Name</a>
                        </h4>
                        <p>
                            @list.Describe
                        </p>

                        <div class="course_meta d-flex justify-content-lg-between align-items-lg-center flex-lg-row flex-column mt-4">
                            <div class="authr_meta">
                                <img class="img-fluid smaller-img" src="@list.User?.Image" alt="" />
                                <span class="d-inline-block ml-2">@list.User?.Name</span>
                            </div>
                            <div class="mt-lg-0 mt-3">
                                <span class="meta_info mr-4">
                                    <a href="#"> <i class="ti-user mr-2"></i>@list.ClassRegistrations?.Count </a>
                                </span>
                                <span class="meta_info"><a href="#"> <i class="ti-heart mr-2"></i>@list.Feedbacks.Count </a></span>
                            </div>
                        </div>
                    </div>
                </div>
     
            }
            @if (Model.Classes.Count == 0)
            {
                <div style="margin:auto">
                    <h4 style="margin:auto">Hi·ªán kh√¥ng c√≥ mentor n√†o h·ªó tr·ª£ m√¥n n√†y</h4>
                </div>
            }
            <style>
                .smaller-img {
                    max-width: 30px; /* K√≠ch th∆∞·ªõc t·ªëi ƒëa chi·ªÅu r·ªông */
                    max-height: 30px; /* K√≠ch th∆∞·ªõc t·ªëi ƒëa chi·ªÅu cao */
                    border-radius: 10px;
                }
            </style>
            <!-- Add clearfix here -->


        </div>

		n·∫øu class c√≥ tr·∫°ng th√°i l√† 5 th√¨ hi·ªÉn th·ªã 1 tr∆∞·ªùng v·ªõi n·ªôi dung l√† l·ªõp ƒë√£ k·∫øt th√∫c¿®ResponseÖßContent⁄ÿTo display a specific message for classes with a status of `5` indicating that the class has ended, you can add a conditional statement within your loop that checks the status of each class. If the status matches `5`, you can then display the desired message. Here's how you can modify your existing code to include this logic:

```Razor
<div class="row">
    <!-- single course -->
    @foreach (ConnectEduV2.Models.Class list in Model.Classes)
    {
        <div class="single_course col-lg-4">
            <div class="course_head">
                <img class="img-fluid" src="~/img/courses/default.jpg" alt="" />
            </div>
            <div class="course_content">
                <span style="top: 28px; width:120px; font-size : 15px; height:33px;line-height: 37px" class="price">@list.Price?.ToString("N0") ƒë</span>
                <span class="tag mb-4 d-inline-block">@list.Subject?.Name</span>
                <h4 class="mb-3">
                    <a asp-page="/Class/ClassDetail" asp-route-classID="@list.Id" >@list.Name</a>
                </h4>
                <p>
                    @list.Describe
                </p>
                <!-- Check if class status is 5 -->
                @if (list.Status == 5)
                {
                    <p class="class-ended">L·ªõp ƒë√£ k·∫øt th√∫c</p>
                }
                <div class="course_meta d-flex justify-content-lg-between align-items-lg-center flex-lg-row flex-column mt-4">
                    <div class="authr_meta">
                        <img class="img-fluid smaller-img" src="@list.User?.Image" alt="" />
                        <span class="d-inline-block ml-2">@list.User?.Name</span>
                    </div>
                    <div class="mt-lg-0 mt-3">
                        <span class="meta_info mr-4">
                            <a href="#"> <i class="ti-user mr-2"></i>@list.ClassRegistrations?.Count </a>
                        </span>
                        <span class="meta_info"><a href="#"> <i class="ti-heart mr-2"></i>@list.Feedbacks.Count </a></span>
                    </div>
                </div>
            </div>
        </div>
    }
    @if (Model.Classes.Count == 0)
    {
        <div style="margin:auto">
            <h4 style="margin:auto">Hi·ªán kh√¥ng c√≥ mentor n√†o h·ªó tr·ª£ m√¥n n√†y</h4>
        </div>
    }
    <style>
        .smaller-img {
            max-width: 30px; /* Maximum width */
            max-height: 30px; /* Maximum height */
            border-radius: 10px;
        }
        .class-ended {
            color: red; /* Or any color you prefer */
            font-weight: bold;
        }
    </style>
    <!-- Add clearfix here -->
</div>
```

In this modification, an `if` statement checks if the `Status` property of the current class in the loop equals `5`. If it does, a paragraph with the text "L·ªõp ƒë√£ k·∫øt th√∫c" is displayed. Additionally, I added a `.class-ended` CSS class to style this message, which you can customize according to your design preferences.§Type ¶StatusØFollowUpPromptsíŸeL√†m th·∫ø n√†o ƒë·ªÉ th√™m tr·∫°ng th√°i cho c√°c l·ªõp kh√°c ngo√†i tr·∫°ng th√°i ƒë√£ k·∫øt th√∫c?ŸeC√≥ c√°ch n√†o ƒë·ªÉ t·ª± ƒë·ªông c·∫≠p nh·∫≠t tr·∫°ng th√°i c·ªßa l·ªõp khi ƒë√£ k·∫øt th√∫c kh√¥ng?≥CodeVulnerabilitiesêÖ®DateTime◊ˇ∑ßÎ f}2º™ThreadName¿∞CopilotSessionIdÇ§GuidŸ$07c96eee-1d44-48d7-b019-4e1e3967de3e®ClientIdÅ¢IdŸ4Microsoft.VisualStudio.Conversations.Chat.HelpWindowßRequestÅßRequestïŸ$b4fd99ec-3792-483b-9025-1399dd655efeŸ$d3405e6a-277f-4418-90e8-1866765089bdêëíìÅ•Value ŸGt√¥i mu·ªën th√¥ng b√°o n√†y s·∫Ω hi·ªÉn th·ªã fixed ƒë√® l√™n c√°i pmg¿®ResponseÖßContent⁄·To display the "L·ªõp ƒë√£ k·∫øt th√∫c" message as a fixed overlay on top of the course image, you can adjust the HTML structure and CSS to position the message accordingly. Here's how you can modify your code to achieve this effect:

```Razor
<div class="row">
    <!-- single course -->
    @foreach (ConnectEduV2.Models.Class list in Model.Classes)
    {
        <div class="single_course col-lg-4 position-relative">
            <div class="course_head">
                <img class="img-fluid" src="~/img/courses/default.jpg" alt="" />
                <!-- Check if class status is 5 and overlay message -->
                @if (list.Status == 5)
                {
                    <div class="class-ended-overlay">L·ªõp ƒë√£ k·∫øt th√∫c</div>
                }
            </div>
            <div class="course_content">
                <span style="top: 28px; width:120px; font-size : 15px; height:33px;line-height: 37px" class="price">@list.Price?.ToString("N0") ƒë</span>
                <span class="tag mb-4 d-inline-block">@list.Subject?.Name</span>
                <h4 class="mb-3">
                    <a asp-page="/Class/ClassDetail" asp-route-classID="@list.Id" >@list.Name</a>
                </h4>
                <p>
                    @list.Describe
                </p>
                <div class="course_meta d-flex justify-content-lg-between align-items-lg-center flex-lg-row flex-column mt-4">
                    <div class="authr_meta">
                        <img class="img-fluid smaller-img" src="@list.User?.Image" alt="" />
                        <span class="d-inline-block ml-2">@list.User?.Name</span>
                    </div>
                    <div class="mt-lg-0 mt-3">
                        <span class="meta_info mr-4">
                            <a href="#"> <i class="ti-user mr-2"></i>@list.ClassRegistrations?.Count </a>
                        </span>
                        <span class="meta_info"><a href="#"> <i class="ti-heart mr-2"></i>@list.Feedbacks.Count </a></span>
                    </div>
                </div>
            </div>
        </div>
    }
    @if (Model.Classes.Count == 0)
    {
        <div style="margin:auto">
            <h4 style="margin:auto">Hi·ªán kh√¥ng c√≥ mentor n√†o h·ªó tr·ª£ m√¥n n√†y</h4>
        </div>
    }
    <style>
        .smaller-img {
            max-width: 30px; /* Maximum width */
            max-height: 30px; /* Maximum height */
            border-radius: 10px;
        }
        .class-ended-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 20px;
        }
    </style>
    <!-- Add clearfix here -->
</div>
```

In this modification, I've added a `position-relative` class to the `.single_course` div to establish a positioning context. Then, for classes with a status of `5`, a `div` with the class `class-ended-overlay` is added inside the `.course_head` div, overlaying the course image. The `.class-ended-overlay` class is styled to cover the entire area of the course image, using `position: absolute;` and setting its dimensions to `100%`. The background color is set to a semi-transparent black with white text for contrast, but you can adjust these styles to fit your design preferences.§Type ¶StatusØFollowUpPromptsíŸXL√†m th·∫ø n√†o ƒë·ªÉ thay ƒë·ªïi m√†u s·∫Øc c·ªßa th√¥ng b√°o "L·ªõp ƒë√£ k·∫øt th√∫c"?Ÿ`C√≥ c√°ch n√†o ƒë·ªÉ th√™m hi·ªáu ·ª©ng fade-in cho th√¥ng b√°o "L·ªõp ƒë√£ k·∫øt th√∫c" kh√¥ng?≥CodeVulnerabilitiesê